<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <script type="text/javascript">
      // Ambil path yang diminta user
      const fullPath = window.location.pathname;

      // Pastikan kita hanya ambil bagian setelah /indikator-kpi
      const basePath = "/indikator-kpi";
      let path = fullPath.startsWith(basePath) ? fullPath.slice(basePath.length) : "/";

      // Tambahkan leading slash kalau hilang
      if (!path.startsWith("/")) path = "/" + path;

      // Cek localStorage
      const user = localStorage.getItem("userData");

      // Redirect aman
      if (user) {
        // Sudah login → ke route React
        window.location.replace(basePath + path);
      } else {
        // Belum login → ke login page
        window.location.replace(basePath + "/");
      }
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
